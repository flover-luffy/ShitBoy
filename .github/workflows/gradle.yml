on: [push, pull_request]
jobs:
  build:
    runs-on: windows-latest  # 指定Windows运行环境
    steps:
      - uses: actions/checkout@v3
      - name: Set up JDK
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          distribution: 'temurin'
      - name: Setup Gradle
        uses: gradle/actions/setup-gradle@v3
      - name: Build with Gradle
        run: .\gradlew.bat build  # Windows需使用bat脚本
		- name: Cache Gradle
		uses: actions/cache@v3
		with:
			path: |
			~/.gradle/caches
			~/.gradle/wrapper
			key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}
			restore-keys: |
		${{ runner.os }}-gradle-
		- name: Upload artifact
			uses: actions/upload-artifact@v3
			with:
		name: build-output
		path: build/libs/*.jar
